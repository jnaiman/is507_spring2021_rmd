















<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2021-05-11 16:09:42 -0500">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/syntax.css" />

    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../assets/favicons/dc/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/favicons/dc/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/favicons/dc/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/favicons/dc/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../assets/favicons/dc/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../assets/favicons/dc/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../assets/favicons/dc/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../assets/favicons/dc/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="../assets/favicons/dc/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="../assets/favicons/dc/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="../assets/favicons/dc/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../assets/favicons/dc/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="../assets/favicons/dc/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Data Carpentry - IS 507 -- Data, Stats, and Info"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="../assets/favicons/dc/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="../assets/favicons/dc/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="../assets/favicons/dc/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="../assets/favicons/dc/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="../assets/favicons/dc/mstile-310x310.png" />


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

  <title>
  Introduction to Programming with R and RStudio &ndash; IS 507 -- Data, Stats, and Info
  </title>  

  </head>
  <body>

    


<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body beta">
    This course page is being piloted (Beta version)
  </div>
</div>




    <div class="container">
      






<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      <!-- JPN: come back here and clean up! -->
      
      <a href="http://datacarpentry.org" class="pull-left">
        <!--<img class="navbar-logo" src="../assets/img/dc-icon-black.svg" alt="IS507 logo" />-->
        <img class="navbar-logo" src="../assets/img/is-icon-blue.svg" alt="IS507 logo" />
      </a>
      

      
      <a class="navbar-brand" href="../">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

        
	
        <li><a href="../setup.html">Setup</a></li>

	<!--
        <li><a href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>-->

        
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Lessons <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="../01-Course_Introduction/index.html">Course Intro & Motivation, Intro to R</a></li>
            
            <li><a href="../02-R-RStudio/index.html">Introduction to Programming with R and RStudio</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../aio/index.html">All in one page (Beta)</a></li>
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference.html">Reference</a></li>
            
            <li><a href="../discuss/index.html">Discussion</a></li>
            
            <li><a href="../extra-Installing-R-on-Mac/index.html">Installing R, RStudio, and QGIS on a Mac</a></li>
            
            <li><a href="../extra-Installing-R-on-Windows/index.html">Installing R, RStudio, and QGIS on Windows</a></li>
            
            <li><a href="../guide/index.html">Instructor Notes</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="../LICENSE.md">License</a></li>
	
	
	<li><a href="/edit//_episodes_rmd/02-R-RStudio.Rmd" data-checker-ignore>Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>

















<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../01-Course_Introduction/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
    <h3 class="maintitle"><a href="../">IS 507 -- Data, Stats, and Info</a></h3>
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span><span class="sr-only">lesson home</span></a>
      
    </h3>
  </div>
</div>

<article>
  <div class="row">
  <div class="col-md-1">
  </div>
  <div class="col-md-10">
    <h1 class="maintitle">Introduction to Programming with R and RStudio</h1>
  </div>
  <div class="col-md-1">
  </div>
</div>

  
  
<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Week:</strong> 2
      <!--<br/>
      <strong>Exercises:</strong>  min-->
    </div>
    <div class="col-md-9">
      <strong>Reading</strong>
      <ul>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>What is a program?</p>
</li>
	
	<li><p>Why would do we want to use a program?</p>
</li>
	
	<li><p>What is R and RStudio and how can we use them to read in data?</p>
</li>
	
      </ul>
    </div>
  </div>


  
  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Learn programming concepts and terms</p>
</li>
	
	<li><p>Learn how to open up RStudio and read in our data</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

  
<!-- JPN: attribution formatting -->
<style type="text/css" rel="stylesheet">
* {.attribution{
     position:absolute;
     bottom:0;
     right:0;
     font-size:0.5em
 }}
</style>

<h1 id="programming-concepts-and-language">Programming concepts and language</h1>

<p>Programming doesn’t have to be scary, and we have some real-world examples to help you understand what’s going on with these words we’re typing in a computer text window. The words in bold will come up in a programming context later on, but it might help to have a mental reference picture to associate with these words.</p>

<p>Let’s imagine that instead of a program to work with numbers and letters, we’re creating a program that cooks breakfast instead.</p>

<p>In order to make breakfast, you need:</p>

<ul>
  <li>A <strong><a href="../reference.html#working-directory">working directory</a></strong> (the place where you’re doing things, such as your kitchen countertop)</li>
  <li>Available <strong><a href="../reference.html#data">data</a></strong> (information about what you’re working with)
    <ul>
      <li>Data could be an inventory of your pantry, a grocery shopping list, a map of the store, a collection of prices at the store, and so forth.</li>
    </ul>
  </li>
  <li><strong><a href="../reference.html#data-type">Types</a></strong> of <strong>objects</strong> – a method of grouping what can be done to what types of things.
    <ul>
      <li>Food is one type of thing; people are another; pets are a third.</li>
      <li>A specific food object can be an egg or a pancake; a particular pet object can be your cat or your dog.</li>
    </ul>
  </li>
  <li>Some <strong>inputs</strong> that may be <strong>objects</strong> of appropriate <strong>types</strong> (breakfast food ingredients)
    <ul>
      <li>You create breakfast by performing actions on objects of food types, and then you feed it to things of the people and pet types.</li>
    </ul>
  </li>
  <li>Some <strong><a href="../reference.html#function">functions</a></strong> (recipes that work with the ingredients)
    <ul>
      <li>Inputs to functions are usually stored in <strong>variables</strong> – you don’t always want to make the same thing every day, so the instructions have placeholder names for things that are similar to each other but may vary. (A “todays_cheese” variable could hold Stilton for one day’s omelet and cheddar for the next.)</li>
    </ul>
  </li>
  <li>You need to match your <strong>object</strong> types to your <strong>functions</strong>.
    <ul>
      <li>You shouldn’t use a pet-type object as an input to a breakfast-making function. (Nobody wants to eat the goldfish for breakfast.)</li>
      <li>You might be able to use a dinner-type food object as an input to a breakfast-making function, but use caution.</li>
    </ul>
  </li>
  <li>Some <strong>outputs</strong> (food ready to be consumed)</li>
  <li>A <strong>destination</strong> (where to put the food that’s ready to be consumed)
    <ul>
      <li>You could put your outputs in your working directory (eat breakfast in your kitchen) or you could send it to another location (put leftovers in the refrigerator)</li>
    </ul>
  </li>
</ul>

<!--<img src='../figure/1-breakfast.png' width="70%">-->
<p><span class="attribution"><a href="https://www.flickr.com/photos/11849171@N00/8330968310">“Breakfast”</a> by <a href="https://www.flickr.com/photos/11849171@N00/8330968310">viviandnguyen_</a> is licensed under <a href="https://www.flickr.com/photos/11849171@N00/8330968310">CC BY-SA 2.0</a></span></p>

<h2 id="intro-to-r-and-rstudio">Intro to R and RStudio</h2>

<p>In this episode we’ll cover the basics of using R, which is a programming language for statistics, data analysis, and data visualization. In the past decade or so, R has become very popular in both science and business, largely because (1) it is free, and (2) thousands of people have written new code extending its functionality, and that code is also free. If you perform an analysis in R, you can share that analysis so that anyone in the world can reproduce it without having to purchase any other software.</p>

<p>If you’re already proficient with Excel, you will probably already know how to accomplish a lot of what we are doing in this episode using Excel instead of R. One reason why we are teaching you this material, however, is to get you comfortable with R since we will be using R for geospatial analysis (which is not so easy in Excel).  In addition, R makes it easier for your processes to be automatic and repeatable, traits we find very desirable when running analyses over and over again.</p>

<p>In this lesson, we will be making use of another software called “RStudio” as a way to interact with the programming language R.  RStudio makes writing our programs more user-friendly.  Using RStudio instead of R is a little like having a toaster.  You can make toast over a fire, but having a toaster makes the job easier and less scorch-prone.</p>

<p>We launch RStudio by double clicking on its icon, as we would with other software on our computers.</p>

<blockquote class="windowsUsers">
  <h2 id="windows-users--click-here-for-more-details">Windows Users:  Click Here for more details</h2>
  <p>If you’re running R Studio from a copy made from the USB stick, then the first time you launch R Studio, you’ll be asked where your installation of R is located.</p>
  <ol>
    <li>Choose the “Choose a specific version of R” item next to the large text box.
<!--<img src="../figure/1-Win-Rstudio-firstlaunch.png" width="70%">--></li>
    <li>Use the <strong>Browse</strong> button to navigate to:
      <ul>
        <li><strong>DataHarvestingWin/ProgramFiles/R/R-3.6.2/bin/</strong></li>
        <li>and choose <strong>Select Folder</strong>.
<img src="../figure/1-Win-Rstudio-folderpick.PNG" width="70%" />
Next, you’ll be prompted which version you want to use. You could choose either 32 bit or 64 bit; either should work, but 64 bit is likely to be what your computer is capable of.
<img src="../figure/1-Win-Rstudio-choosewhich.PNG" width="70%" />
In the image below, the 64 bit version has been chosen and you can now press OK.
<img src="../figure/1-Win-Rstudio-pickedfolder.PNG" width="70%" />
You’ll be prompted to restart R Studio; double click the launch icon again.
At this point, R Studio should open next.</li>
      </ul>
    </li>
  </ol>

</blockquote>

<!-- ![starting R studio](../figure/Rstudio_blank.png) -->
<p><img src="../figure/Rstudio_blank.png" width="80%" /></p>

<h2 id="getting-your-rstudio-workspace-ready-for-the-workshop">Getting your RStudio workspace ready for the workshop</h2>

<p>Let’s get our “countertop” ready to “cook” by:</p>

<ol>
  <li>Setting up our working directory.</li>
  <li>Loading libraries and sourcing functions in order to make the tools we’ll use available to RStudio.</li>
  <li>Locating our data ingredients.</li>
</ol>

<h3 id="setting-your-working-directory">Setting your working directory</h3>

<p>Under the <strong>Session</strong> menu, choose <strong>Set Working Directory</strong>, then <strong>Choose Directory</strong>.</p>

<blockquote class="windowsUsers">
  <h2 id="windows-users-click-here-for-more-details">Windows Users: Click here for more details</h2>

  <p><img src="../figure/2-RStudio-setworkingdir1.PNG" width="70%" /></p>

  <p>In each software collection on the USB drive, we’ve made subdirectories called <code class="language-plaintext highlighter-rouge">WorkingDir</code> with another subdirectory called <strong>data</strong>. (Even if you’ve installed from scratch rather than copying from the USB drive, the instructions will be easier to follow if you have a folder called <code class="language-plaintext highlighter-rouge">WorkingDir</code> that contains another one called <code class="language-plaintext highlighter-rouge">data</code>.)</p>

  <p>So if you’re using our file collection after copying it to your local hard drive on Windows, choosing your working directory will look like this:</p>

  <p><img src="../figure/2-RStudio-setworkingdir2.PNG" width="70%" /></p>

  <p>(If you’re running from the USB drive, the drive letter there will likely say <code class="language-plaintext highlighter-rouge">D:</code> instead of <code class="language-plaintext highlighter-rouge">C:</code>, but the rest will be the same.)</p>
</blockquote>

<blockquote class="windowsUsers">
  <h2 id="mac-users-click-here-for-more-details">Mac Users: Click here for more details</h2>

  <p><img src="../figure/set_wd_mac.png" width="70%" /></p>

  <p>Selecting the <code class="language-plaintext highlighter-rouge">WorkingDir</code> file where we’ve copied the scripts and <code class="language-plaintext highlighter-rouge">data</code> directory.</p>

  <p><img src="../figure/set_wd_mac_wdIsthere.png" width="70%" /></p>

  <p>If you do not see a working directory <code class="language-plaintext highlighter-rouge">WorkingDir</code>, make sure you are in the right folder.  If you have not yet created a working directory, you can do so at this point:</p>

  <p><img src="../figure/set_wd_mac_workingDir.png" width="70%" /></p>

  <p><img src="../figure/set_wd_mac_open.png" width="70%" /></p>

  <p>Once selected, click <code class="language-plaintext highlighter-rouge">Open</code>.  Once you have your directory set you should see a <code class="language-plaintext highlighter-rouge">setwd</code> command show up in the console of RStudio:</p>

  <p><img src="../figure/set_wd_mac_final.png" width="70%" /></p>
</blockquote>

<blockquote class="callout">
  <h2 id="windows">Windows</h2>

  <p>At the console, type:</p>

  <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">setwd</span><span class="p">(</span><span class="s2">"C:/DataHarvestingWin/WorkingDir"</span><span class="p">)</span><span class="w">
</span></code></pre></div>  </div>
</blockquote>

<blockquote class="callout">
  <h2 id="mac">Mac</h2>

  <p>At the console, type:</p>

  <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">setwd</span><span class="p">(</span><span class="s2">"~/WorkingDir"</span><span class="p">)</span><span class="w">
</span></code></pre></div>  </div>
</blockquote>

<p>Now we’ve identified where we want to work and can start loading libraries and data.</p>

<h3 id="loading-libraries-and-sourcing-functions">Loading libraries and sourcing functions</h3>

<p>R and RStudio are used in many different fields, including biology, genomics, and geospatial data. If we loaded everything that R was capable of handling at once, though, it would take even more space than it already does!</p>

<p>So with this set of instructions, we’re telling R that we want a set of published tools that are appropriate for working with geospatial data and public data sources, and also some custom-written scripts specifically for this workshop.</p>

<ol>
  <li>Right-click to open the code for the <a href="https://raw.githubusercontent.com/data-carpentry-for-agriculture/trial-lesson/gh-pages/_episodes_rmd/package_load_and_test.R"><code class="language-plaintext highlighter-rouge">package_load_and_test.R</code> script</a> in a new browser window. This file will tell R which tools should be loaded into its memory and make sure they’re all working.</li>
  <li>Create a new R script file for yourself in R Studio by clicking on <code class="language-plaintext highlighter-rouge">File→New File→R Script</code>.</li>
  <li>Copy and paste the test script from the browser window into your new script file.</li>
  <li>Save the file as <code class="language-plaintext highlighter-rouge">package_load_and_test.R</code> in your working directory so that you’ll be able to use it again.</li>
  <li>Click the <code class="language-plaintext highlighter-rouge">Source</code> button near the top right of your script window to load these functions as well.</li>
</ol>

<p><img src="../figure/sourceTests_in02.png" width="80%" /></p>

<!-- JPN: for now, change different
<img src="../figure/wininstall5-rstudioinstallscript2.png" width="70%">
-->

<h3 id="updating-your-startup-script-and-saving-your-r-studio-environment">Updating your startup script and saving your R Studio environment</h3>

<p>You can save your R Studio environment so that the next time it loads, it will remember what libraries and functions you’ve been working with.</p>

<p>You’ll be prompted to do this when you quit R Studio:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">q</span><span class="p">()</span><span class="w">
</span><span class="n">Save</span><span class="w"> </span><span class="n">workspace</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">C</span><span class="o">:/</span><span class="n">DataHarvestingWin</span><span class="o">/</span><span class="n">WorkingDir</span><span class="o">/</span><span class="n">.RData</span><span class="o">?</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span><span class="o">:</span><span class="w">
</span></code></pre></div></div>

<p>If you choose Y, you’ll save your working environment and R Studio will load it at the next launch.</p>

<p>However, it’s not a bad idea to modify the download and test script a little bit so that you could reuse it in case you’re working on other projects as well.</p>

<p>To find out what your current working directory is, run this command in the console:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">getwd</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p>Ideally, this should say <strong>C:/DataHarvestingWin/WorkingDir</strong> on Windows. (Macs will see a different variation involving DataHarvestingMac.)</p>

<p>If the directory you see here isn’t the one you want to use, scroll up to the “Set Working Directory” section above and use those instructions to choose your working directory. Then run <strong>getwd()</strong> again to make sure you have the directory you want.</p>

<p>Once you have the directory you want (shown by <code class="language-plaintext highlighter-rouge">getwd()</code>):</p>

<ol>
  <li>Remove the <code class="language-plaintext highlighter-rouge">#</code> before setwd in the line below <code class="language-plaintext highlighter-rouge">STEP 1</code>.</li>
  <li>If your <code class="language-plaintext highlighter-rouge">getwd()</code> results don’t match <code class="language-plaintext highlighter-rouge">C:/DataHarvestingWin/WorkingDir</code>, you’ll need to change what’s in the quotations on that line.</li>
  <li>With your cursor on that line of the script, click the <code class="language-plaintext highlighter-rouge">Run</code> button.</li>
  <li>The <code class="language-plaintext highlighter-rouge">setwd()</code> command will run from the script.</li>
  <li>Click <code class="language-plaintext highlighter-rouge">File→Save</code> in order to save the changes to your script so you won’t need to do this again in the future.</li>
</ol>

<p>Additionally, you probably won’t want to re-download the data files every time you run the startup script. To prevent that from happening, we add a # at the start of the line after <code class="language-plaintext highlighter-rouge">STEP 3</code>.</p>

<p>With these modifications, if you start R Studio and don’t see what you expect to see, you can re-open <code class="language-plaintext highlighter-rouge">package_load_and_test.R</code> and click the <code class="language-plaintext highlighter-rouge">Source</code> button to get your environment re-loaded.</p>

<h3 id="locating-data-ingredients">Locating data ingredients</h3>

<p>The instructions from here on out assume that you’ve set your working directory to be a folder named “WorkingDir” and that you have a folder inside it called “data” which contains several files of information.</p>

<p>We’ve automated bringing data sets in from our lesson as part of the setup script, but when you want to work with your own data, it’ll help to know which directory you’ve stored it in.</p>

<blockquote class="callout">
  <h2 id="tip-for-testing">Tip for Testing</h2>

  <p>When you’re testing things out, it’s a good idea to work with copies of your files rather than with the originals. Make copies in a different working directory to give yourself the freedom to experiment and make mistakes without damaging your original data.</p>
</blockquote>

<h2 id="the-stuff-in-your-kitchen-getting-oriented-with-r-studio">The stuff in your “kitchen”: Getting oriented with R Studio</h2>

<p>So far, we’ve seen some things happen in the four quadrants of R Studio:</p>
<ul>
  <li><strong>New R script files</strong> are made in the top left quadrant, and if you have more than one of them open at a time, you’ll see more than one tab with the file names on them.
    <ul>
      <li><em>If you want to save the commands you’re working on, this is where you’ll put your work. There’s no real downside to keeping your notes in a script file; you can easily come back to your work later.</em></li>
    </ul>
  </li>
  <li><strong>The console</strong> is in the lower left quadrant, and that’s where the “action items” happen. When you clicked through the test script elements, text-based responses came up in the console whether or not a graphic was rendered with that test.
    <ul>
      <li><em>In R Studio, it’s helpful to get in the habit of typing your work in a script window, selecting your section, and hitting Run instead of typing directly in the console. You can’t easily get back what you typed in the console in a previous session. (Script files are like recipe cards that you save; entries on the console are like scribbling on the back of a napkin.)</em></li>
    </ul>
  </li>
  <li>Information about your <strong>environment</strong> is in the top right quadrant. This includes libraries that are loaded, variables that have had information put into them, and so forth. Several of the tests caused changes in this area.</li>
  <li>The lower right quadrant holds several tabs, but the two you’ll use most often are the <strong>Plots</strong> tab and the <strong>Packages</strong> tab.
    <ul>
      <li>The map-drawing tests produced images in the Plots tab.</li>
      <li>When you ran the library-loading lines, checkmarks appeared by those libraries’ names in the Packages tab.</li>
      <li><em>That’s a handy way to know what your current environment includes. If you’ve just reopened RStudio after a time away, and you’re not sure what RStudio remembers from your last session, look at the Packages tab to see if your libraries are loaded or not. In our case, <strong>dplyr</strong> is an easy one to find near the start of the alphabet; if it’s not checked when you open RStudio, you’ll want to re-run the package_load_and_test.R script.</em></li>
      <li>Check it out: Click from tab to tab to see what’s in each of them.</li>
    </ul>
  </li>
</ul>

<h2 id="lets-crack-some-eggs-getting-started-with-functions-and-variables">Let’s crack some eggs: Getting started with functions and variables</h2>

<p>From our breakfast example earlier, here are some of the programming terms and analogies for what they mean.</p>

<h3 id="what-is-a-function">What is a function?</h3>

<p>A <a href="../reference.html#function">function</a> is a bit of code that we want to be able to reuse again and again. For example, let’s say you want to make omelets every morning, wouldn’t it be great if you had some sort of machine that would do it for you?</p>

<p>Let’s imagine an omelet-making scenario. You start with some eggs, some cheese, and some other ingredients, use utensils and heat, and end up with something cooked and edible on a plate—or more than one plate, if several people want omelets that morning.</p>

<p>The number of eggs and amount of cheese you use can vary depending on how many you want, so we call the bit of space that stores that information a <a href="../reference.html#variable">variable</a>.</p>

<p>Sometimes the recipe you received is dependent on other things that you want to leave yourself notes about as well. Just like scribbling on a recipe card, you can leave <a href="../reference.html#comment">comments</a> in your code by beginning a commented section with a # character.</p>

<p>Here’s what that omelet process might look like in terms a step closer to programming:</p>

<blockquote>
  <h2 id="making-an-omelet">Making an Omelet</h2>

  <p><em>Instructors: Build a process like this step-by-step on the board or screen if possible, incorporating student input.</em></p>

  <p>~~~</p>
  <blockquote class="language-r">
    <h1 id="note-this-doesnt-actually-do-anything-its-just-a-thought-example">Note: This doesn’t actually do anything; it’s just a thought-example.</h1>
    <h1 id="you-dont-need-to-copy-this-into-rstudio">You don’t need to copy this into RStudio.</h1>

    <p>function make_omelet(how_many, todays_cheese, cheese_quantity, other_ingredients) {</p>

    <p># Multiply number of omelets wanted by 2 eggs each
  eggs &lt;- how_many * 2</p>

    <p># Multiply cheese per omelet by number of omelets to decide how much cheese is needed
  total_cheese &lt;- how_many * cheese_quantity</p>

    <p># Mix ingredients
  for each bowl
      crack eggs
      discard shells
      add total_cheese
      if other_ingredients
         bowl &lt;- bowl + other_ingredients
      else
         ready to cook</p>

    <p># When ready to cook
  pour bowl into hot pan
	  # if more than 3 eggs, get more hot pans
  cook
  serve
  wash_dishes
}
~~~</p>
  </blockquote>
</blockquote>

<p>In this example, we’re telling the system these things:</p>
<ul>
  <li>A function (repeatable sequence of commands) named make_omelet takes several inputs (the ingredients list in parentheses)</li>
  <li>The part in the curly braces {} tells the function what to do with the inputs (also called arguments or parameters – you can think of this as an ingredients list if it helps)</li>
</ul>

<p>To use a function we have to <em>call</em> it in a specific way. (To <em>call</em> a function is to use it for a specific case with specific data.) Let’s call an R function named <code class="language-plaintext highlighter-rouge">print</code> which will just echo back what we give it as an input parameter:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">todays_cheese</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"Stilton"</span><span class="w"> </span><span class="c1"># assign the value of Stilton to a variable called "todays_cheese" -- we don’t want to use apostrophes in variable names, so today’s_cheese wouldn’t work.</span><span class="w">

</span><span class="n">print</span><span class="p">(</span><span class="n">todays_cheese</span><span class="p">)</span><span class="w"> </span><span class="c1"># print out the value of the variable to the screen</span><span class="w">
</span></code></pre></div></div>

<p>From now on, whenever we use <code class="language-plaintext highlighter-rouge">todays_cheese</code>, R will substitute the value we assigned to it. In layman’s terms, <strong>a variable is a placeholder name for something that can be changed regularly</strong>.</p>

<p>In R, variable names:</p>
<ul>
  <li>can include letters, digits, and underscores</li>
  <li>cannot start with a digit</li>
  <li>are case sensitive, meaning that “ABC” is considered different than “abc”.</li>
</ul>

<p>This means that, for example:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">cheese1</code> is a valid variable name, whereas <code class="language-plaintext highlighter-rouge">1cheese</code> is not</li>
  <li><code class="language-plaintext highlighter-rouge">eggs</code> and <code class="language-plaintext highlighter-rouge">Eggs</code> are different variables</li>
</ul>

<blockquote class="callout">
  <h2 id="variable-naming-conventions">Variable Naming Conventions</h2>

  <p>Historically, R programmers have used a variety of conventions for naming variables. The <code class="language-plaintext highlighter-rouge">.</code> character in R can be a valid part of a variable name; thus the above assignment could have easily been <code class="language-plaintext highlighter-rouge">todays.cheese &lt;- "Stilton"</code>.</p>

  <p>This is often confusing to R newcomers who have programmed in languages where <code class="language-plaintext highlighter-rouge">.</code> has a more significant meaning, or to people who are used to file names like <code class="language-plaintext highlighter-rouge">resume.doc</code> where the component after <code class="language-plaintext highlighter-rouge">.</code> identifies the type of a file.</p>

  <p>Today, most R programmers prefer these standards:</p>
  <ul>
    <li>Start variable names with lower case letters</li>
    <li>Separate words in variable names with underscores</li>
    <li>Use only lowercase letters, underscores, and numbers in variable names. (The book R Packages includes a chapter on this and other style considerations.)</li>
  </ul>
</blockquote>

<h2 id="variables-and-data-types">Variables and data types</h2>

<p>Something that it’s important to keep track of is what type of data you’ve stored in a particular variable. Words are treated differently than numbers, and numbers with decimals are treated differently than numbers without decimals. So, for example:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cheese_variety</code> could be “Stilton” or “cheddar”, but you probably don’t want a number here. This variable type is called a <strong>text string</strong>.</li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cheese_variety</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"Stilton"</span><span class="w"> </span><span class="c1"># quotes help your text variables get assigned correctly, especially if it's a multi-word unit like "Double Gloucester cheese"</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cheese_amount</code> could be “a quarter cup”. Numbers are much easier to calculate on computers than words, so we represent that as “0.25”. This variable type is called a <em>floating point number</em> and would be assigned similarly to the <code class="language-plaintext highlighter-rouge">cheese_variety</code> variable:</li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cheese_amount</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0.25</span><span class="w"> </span><span class="c1"># in cups</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">eggs</code> <em>could possibly</em> be 2.5, but it’s much easier to use either 2 whole eggs or 3 whole eggs. When you want to make sure you’re working with whole units, this variable type is called an <em>integer</em>.</p>

    <ul>
      <li><em>The first time you use a number-type variable, if you want it to always be an integer, don’t include a decimal point when you assign it (<code class="language-plaintext highlighter-rouge">eggs &lt;- 2</code>). On the other hand, if you do want to have the ability to have decimal points in that value in the future, make sure to include the decimal point even if it’s <code class="language-plaintext highlighter-rouge">.0</code> (<code class="language-plaintext highlighter-rouge">cheese_quantity &lt;- 2.0</code>):</em></li>
    </ul>
  </li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">eggs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="c1"># this will be stored as an integer</span><span class="w">
</span><span class="n">cheese_quantity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">2.0</span><span class="w"> </span><span class="c1"># this will be stored as a float</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>Another variable type we’ll be introducing in a few minutes is a <em>dataframe</em>, which lets you hold a whole spreadsheet’s worth of information in one variable. This will be very useful for working with things more complicated than omelets, such as agricultural data!</li>
</ul>

<p>Notice that they can all be named in similar ways; you don’t have to tell the system what type of variable you’ve just created, but it might be handy to leave <code class="language-plaintext highlighter-rouge">#comments</code> for yourself.</p>

<h3 id="how-many-eggs-passing-variables-and-data-to-functions">How many eggs? Passing variables and data to functions</h3>

<p>Your breakfast function <code class="language-plaintext highlighter-rouge">make_omelet()</code> may default to “make omelets for two people,” but maybe one day you’re the only person who wants an omelet and another day you’re having a party. Being able to tell the function how many omelets you want to make without rewriting your code saves a bunch of time.</p>

<p>So when you look at the arguments list requested in <code class="language-plaintext highlighter-rouge">make_omelet()</code>:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span><span class="w"> </span><span class="n">make_omelet</span><span class="p">(</span><span class="n">how_many</span><span class="p">,</span><span class="w"> </span><span class="n">todays_cheese</span><span class="p">,</span><span class="w"> </span><span class="n">cheese_quantity</span><span class="p">,</span><span class="w"> </span><span class="n">other_ingredients</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>The list of items it’s asking for includes the things that are likely to change based on the day, and then the mathematical transformations from “how many omelets” to “how many eggs and how much cheese is needed” are handled inside the function.</p>

<p>The thing that you pass in to a function or assign to a variable can also be a data set. Let’s take a look at how to do that next.</p>

<h2 id="working-with-some-real-data">Working with some real data</h2>

<p>As an example of a dataset in spreadsheet form that we can use to demonstrate the R language, we are using the <a href="https://www.ers.usda.gov/data-products/fertilizer-use-and-price.aspx">USDA Economic Research Service dataset on fertilizer use and price</a>. Of all of the various tables of data on this website, we are interested now at Table 2 called “Estimated U.S. plant nutrient use by selected crops” which shows 1,000 nutrient short tons of nitrogen, phosphorus, and potash used on corn, soy, cotton, wheat, and other crops in the US from 1964–2016.</p>

<p>This table has been reformatted into a CSV file for ease of import into R.</p>

<ul>
  <li>If you copied your data folder from the USB drive, it’s available in the data folder as fertilizer_use.csv.</li>
  <li>If not, <a href="https://raw.githubusercontent.com/data-carpentry-for-agriculture/trial-lesson/gh-pages/_episodes_rmd/data/fertilizer_use.csv">you can download the CSV here</a>.</li>
</ul>

<blockquote class="callout">
  <h2 id="whats-a-csv-file-and-why-are-they-helpful">What’s a CSV file and why are they helpful?</h2>

  <p>CSV stands for “common separator of values.” What’s stored in a CSV file is spreadsheet-type data, and it can be opened in Microsoft Excel (among many other things).</p>

  <p>You might be used to seeing spreadsheet-type files saved with the <code class="language-plaintext highlighter-rouge">.xls</code> or <code class="language-plaintext highlighter-rouge">.xlsx</code> format types. However, while the Excel format is complicated to take apart, a CSV is really easy for many programs to read, including text viewers and R Studio.</p>
</blockquote>

<h2 id="getting-your-data-into-rstudio">Getting your data into RStudio</h2>

<p>The top few lines of the file look like:</p>

<div class="language-plaintext warning highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Warning in file(file, "rt"): cannot open file 'data/fertilizer_use.csv': No such
file or directory
</code></pre></div></div>

<div class="language-plaintext error highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error in file(file, "rt"): cannot open the connection
</code></pre></div></div>

<div class="language-plaintext error highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error in is.data.frame(x): object 'tmp' not found
</code></pre></div></div>

<div class="language-plaintext warning highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Warning in rm(tmp): object 'tmp' not found
</code></pre></div></div>

<p>It can be opened in Excel if you want to get a quick look at it that way, or we can dive straight into looking at it in R.</p>

<p>Next, we’ll use the function called <code class="language-plaintext highlighter-rouge">read.csv</code> to import data from a CSV (comma-separated value) file. (In this case the <code class="language-plaintext highlighter-rouge">csv</code> is part of the name of the function, not the name of a separate file. We didn’t choose the name, which is admittedly a bit confusing here.)</p>

<p>To do this, put this line in your script area (upper left hand quadrant) and click <code class="language-plaintext highlighter-rouge">Run</code>.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fert_use</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"data/fertilizer_use.csv"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Take a moment and identify:</p>

<ul>
  <li>the name of the function (<code class="language-plaintext highlighter-rouge">read.csv</code>)</li>
  <li>the input parameter (<code class="language-plaintext highlighter-rouge">"data/fertilizer_use.csv"</code>)</li>
  <li>the variable containing the data after the code is executed (<code class="language-plaintext highlighter-rouge">fert_use</code>)</li>
</ul>

<p>The name of the file we want to read includes the <code class="language-plaintext highlighter-rouge">data</code> folder we created earlier. The <code class="language-plaintext highlighter-rouge">/</code> after <code class="language-plaintext highlighter-rouge">data</code> indicates to R that it should look inside this folder for the file named <code class="language-plaintext highlighter-rouge">fertilizer_use.csv</code>.</p>

<p><code class="language-plaintext highlighter-rouge">fert_use</code> now shows up in the <em>Global Environment</em> window at the upper left of RStudio.</p>

<h2 id="explore-your-data-in-r">Explore your data in R</h2>

<p>Now that you have your data imported into R, it would be nice to take a look at it!  One quick way to do this is using the <code class="language-plaintext highlighter-rouge">head</code> function like so:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span><span class="p">(</span><span class="n">fert_use</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>This lets us look at our table of data, but it formats things in a nice way, with the name of each column at the top and the row numbered on the left side.</p>

<p>We can furthermore control how many rows print out by including an <em>optional parameter</em> in our function call:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span><span class="p">(</span><span class="n">fert_use</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Note that we can call the <code class="language-plaintext highlighter-rouge">head</code> function without this parameter and it will run just fine with some default value.  If we want to specify the number of rows, we include this as <code class="language-plaintext highlighter-rouge">parameter name = parameter value</code>.  In this case, our <code class="language-plaintext highlighter-rouge">parameter name</code> for the <code class="language-plaintext highlighter-rouge">head</code> function is <code class="language-plaintext highlighter-rouge">n</code> and the <code class="language-plaintext highlighter-rouge">parameter value</code> is <code class="language-plaintext highlighter-rouge">4</code>.</p>

<blockquote class="callout">
  <h2 id="getting-help-how-do-you-know-what-parameters-a-function-wants">Getting help: How do you know what parameters a function wants?</h2>

  <p>Different functions will have different parameter names. For most professionally published software, you can get more information by appending a <code class="language-plaintext highlighter-rouge">?</code> to the front of a function call:</p>

  <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">?</span><span class="n">head</span><span class="w">
</span></code></pre></div>  </div>

  <h4 id="other-ways-to-get-help">Other ways to get help</h4>

  <p>Oftentimes the Web provides a good resource for learning about R functions.  Googling “head function r” will return many pages about the <code class="language-plaintext highlighter-rouge">head</code> function, including the R-documentation pages.</p>
</blockquote>

<p>Now let’s say we want to look at only the first few entries of the <code class="language-plaintext highlighter-rouge">Years</code> column of our dataset?  We can do this by making use of the fact that our variable <code class="language-plaintext highlighter-rouge">fert_use</code> is a special type of variable called a <em>dataframe</em>.  A dataframe is like a spreadsheet without a view.  It allows us to print out individual columns by saying <code class="language-plaintext highlighter-rouge">dataframe name $ dataframe column</code>:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Year</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Here the label of the column, <code class="language-plaintext highlighter-rouge">Year</code> is used to access this column alone and print out its first 4 entries.  Let’s try another one:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Crop</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>We get a bit of extra information when we look at the <code class="language-plaintext highlighter-rouge">Crop</code> column.  With the column <code class="language-plaintext highlighter-rouge">Years</code>, R stored the data as pure numbers (integers, or whole numbers without decimal places). With <code class="language-plaintext highlighter-rouge">Crop</code>, R has stored this column as something called a <em>factor</em>. A factor stores information by category instead of by number. (We call this a <em>categorical variable</em> while <code class="language-plaintext highlighter-rouge">Years</code> is called a <em>numerical variable</em>.) R also tells us how many <em>levels</em> this categorical column has, which is just R’s way of counting up the number of categories that <code class="language-plaintext highlighter-rouge">Crop</code> can be. In this case, we see there are 5 categories of crops in this dataset, <code class="language-plaintext highlighter-rouge">Corn</code>, <code class="language-plaintext highlighter-rouge">Cotton</code>, <code class="language-plaintext highlighter-rouge">Other</code>, <code class="language-plaintext highlighter-rouge">Soybeans</code> and <code class="language-plaintext highlighter-rouge">Wheat</code>. By default, R orders them alphetetically.</p>

<h3 id="using-str-to-get-column-types">Using <code class="language-plaintext highlighter-rouge">str</code> to get column types</h3>

<p>As with the function <code class="language-plaintext highlighter-rouge">head</code>, the <code class="language-plaintext highlighter-rouge">str</code> function is helpful for getting a quick look at your data and summarizing what kinds of columns you have:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">fert_use</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Here <code class="language-plaintext highlighter-rouge">str</code> is the function name that we <em>called</em> with the <em>input parameter</em> of <code class="language-plaintext highlighter-rouge">fert_use</code> which is the variable that is storing our table of data.</p>

<p>The <code class="language-plaintext highlighter-rouge">str</code> function prints out the first few entries of each row, the <code class="language-plaintext highlighter-rouge">...</code> just means that it has truncated its output for the sake of clarity.</p>

<p>Again, as with the function <code class="language-plaintext highlighter-rouge">head</code>, we see that the <code class="language-plaintext highlighter-rouge">str</code> function is also telling us something about how our data is formatted:</p>
<ul>
  <li>There are 5 columns in our dataset - <code class="language-plaintext highlighter-rouge">Year</code>, <code class="language-plaintext highlighter-rouge">Crop</code>, <code class="language-plaintext highlighter-rouge">Nitrogen</code>, <code class="language-plaintext highlighter-rouge">Phosphate</code>, and <code class="language-plaintext highlighter-rouge">Potash</code>.</li>
  <li>There are 265 <code class="language-plaintext highlighter-rouge">observations</code>, or rows, in our dataset</li>
  <li>The <code class="language-plaintext highlighter-rouge">Year</code>, <code class="language-plaintext highlighter-rouge">Nitrogen</code>, <code class="language-plaintext highlighter-rouge">Phosphate</code>, and <code class="language-plaintext highlighter-rouge">Potash</code> columns are <code class="language-plaintext highlighter-rouge">int</code> types, meaning they are comprised of whole numbers (numbers without decimals)</li>
  <li>The <code class="language-plaintext highlighter-rouge">Crop</code> column is a <em>factor</em> with 5 <code class="language-plaintext highlighter-rouge">levels</code>.  The trailing 1’s are just R’s way of tagging which row entry in this column is in what category - a 1 means a row that is tagged as “Corn”, a 2 would be a row that is taked as “Cotton”.</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">str</code> function also tells us that our variable <code class="language-plaintext highlighter-rouge">fert_use</code> is a <em>dataframe</em> by printing <code class="language-plaintext highlighter-rouge">'data.frame'</code> at the top of its output.</p>

<h2 id="working-with-your-data-in-r">Working with your data in R</h2>

<p>Now that we have read in some data and have some idea of what our dataset contains, let’s actually think about manipulating our dataset!  One thing we might want to know is find out the time span overwhich this data was taken.  We can find out the minimum time in our dataset by applying the the <code class="language-plaintext highlighter-rouge">min</code> function on our <code class="language-plaintext highlighter-rouge">Year</code> column:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">min</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Year</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>And we can find the maximum year in our dataset in a similar fashion:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">max</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Year</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Now we know our dataset is taken from 1964-2016!  This is of course something we could have known by reading the description of this table, so let’s try something more interesting: the minimum measurement of Nitrogen:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">min</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Nitrogen</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Wait a minute!  What just happened?</p>

<p>In R, <code class="language-plaintext highlighter-rouge">NA</code> means missing data.  Let’s take a look at a the first 50 entries of our <code class="language-plaintext highlighter-rouge">Nitrogen</code> column:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Nitrogen</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">50</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>You can see from these first 50 entries, that we ended up with a lot of <code class="language-plaintext highlighter-rouge">NA</code> values.  By default, if we apply the <code class="language-plaintext highlighter-rouge">min</code> function and it encounters any <code class="language-plaintext highlighter-rouge">NA</code> values, it returns <code class="language-plaintext highlighter-rouge">NA</code>.  To figure out what to do, let’s look at the help page.  To find the help page for any function, type a question mark and then the name of the function.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">?</span><span class="n">min</span><span class="w">
</span></code></pre></div></div>

<p>So there is an <em>optional parameter</em> called <code class="language-plaintext highlighter-rouge">na.rm</code>, and the description of it says that it controls whether or not <code class="language-plaintext highlighter-rouge">NA</code> values are stripped out before calculating the mean. We can make R take out <code class="language-plaintext highlighter-rouge">NA</code>’s before calculating the minimum by setting the optional parameter to <code class="language-plaintext highlighter-rouge">TRUE</code>. (In R, <code class="language-plaintext highlighter-rouge">TRUE</code> and <code class="language-plaintext highlighter-rouge">FALSE</code> should always be in all caps.)</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">min</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Nitrogen</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>This worked!  Let’s try a few more examples.</p>

<blockquote class="challenge">
  <h2 id="finding-the-maximum-nitrogen-measurement">Finding the Maximum Nitrogen Measurement</h2>

  <p>Use the <code class="language-plaintext highlighter-rouge">max</code> function to calculate the maximum nitrogen measurement in your dataset.</p>

  <blockquote class="solution">
    <h2 id="solution">Solution</h2>

    <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">max</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Nitrogen</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </blockquote>
</blockquote>

<blockquote class="challenge">
  <h2 id="maximum-crop">Maximum Crop</h2>

  <p>What happens when you try to apply the max function to the <code class="language-plaintext highlighter-rouge">Crop</code> column?  Why do you think that is?</p>

  <blockquote class="solution">
    <h2 id="solution-1">Solution</h2>

    <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">max</span><span class="p">(</span><span class="n">fert_use</span><span class="o">$</span><span class="n">Crop</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>

    <p>The <code class="language-plaintext highlighter-rouge">max</code> function only is meaningful for numerical data, in this case you are trying to apply it to a column that is made up of categories and R got confused and printing out an error message.</p>
  </blockquote>
</blockquote>



<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>In programming there is certain terminology we need to learn: variables, variable types, functions</p>
</li>
    
    <li><p>Use <code class="language-plaintext highlighter-rouge">variable &lt;- value</code> to assign a value to a variable in order to record it in memory.</p>
</li>
    
    <li><p>Use <code class="language-plaintext highlighter-rouge">read.csv</code> to read data in to R</p>
</li>
    
  </ul>
</blockquote>


</article>
















<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../01-Course_Introduction/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span><span class="sr-only">lesson home</span></a>
      
    </h3>
  </div>
</div>


      
      






<footer>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
	<!--Licensed under <a href="">CC-BY 4.0</a> 2018–2021
	by <a href="https://digitalag.illinois.edu/">Center for Digital Agriculture</a>-->
    </div>
    <div class="col-md-6 help-links" align="right">
	
	
	<a href="/edit//_episodes_rmd/02-R-RStudio.Rmd" data-checker-ignore>Edit on GitHub</a>
	
	
	/
	<a href="/blob//CONTRIBUTING.md" data-checker-ignore>Contributing</a>
	/
	<a href="/">Source</a>
	/
	<a href="/blob//CITATION" data-checker-ignore>Cite</a>
	/
	<a href="mailto:">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/carpentries/styles/">The Carpentries style</a>
      version <a href="https://github.com/carpentries/styles/releases/tag/v9.5.3">9.5.3</a>.
    </div>
  </div>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
